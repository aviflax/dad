<!--

WARNING WARNING WARNING

This file is AUTOMATICALLY generated from a template. If you change its contents,
your changes WILL be lost when the file is regenerated — so DON’T DO THAT.

SERIOUSLY.

Source template: <repo-root>/doc/templates/dev/readme.md

-->

# Developing and Testing DaD

## Dependencies

* [Clojure](https://clojure.org/) for programming system, compiler, and runtime
* [GraalVM](https://en.wikipedia.org/wiki/GraalVM) for compiler and runtime
* [JDK](https://en.wikipedia.org/wiki/Java_Development_Kit) for programming system, compiler, and runtime
* [Selmer](https://github.com/yogthos/Selmer) for templating

## Scripts

We have a few useful scripts:

<dl>
  <dt><code>bin/build-native-image</code></dt>
  <dd>Builds an executable that can run on the same OS and architecture as the machine on which it’s run — without a JRE</dd>
  <dt><code>bin/build-uberjar</code></dt>
  <dd></dd>
  <dt><code>bin/kaocha</code></dt>
  <dd>Runs our test runner</dd>

</dl>

## Testing

This project uses [Kaocha][kaocha] as its test runner.

Each subdirectory under `<project-root>/test` is a test suite, e.g. `examples`, `integration`,
`property`, etc.

### Running the tests

#### From a shell

```shell
# Run all suites
bin/kaocha

# Run a single suite
bin/kaocha examples
```

#### From a REPL

```clojure
(use 'kaocha.repl)

; Run all suites
(run-all)

; Run a single suite
(run :examples)

; Run a single namespace
(run 'dad.rendering.tags-test)

; Run a single test var
(run 'dad.rendering.tags-tags/test-exec)
```

[kaocha]: https://github.com/lambdaisland/kaocha
